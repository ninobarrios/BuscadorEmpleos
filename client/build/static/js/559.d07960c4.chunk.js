"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[559],{3559:(a,e,s)=>{s.r(e),s.d(e,{default:()=>m});var n=s(5043),t=s(3216),l=s(6213),c=s(7065),r=(s(2845),s(579));const i=(0,n.lazy)((()=>s.e(348).then(s.bind(s,8839)))),o=(0,n.lazy)((()=>s.e(757).then(s.bind(s,1757)))),d=(0,n.lazy)((()=>s.e(357).then(s.bind(s,7357)))),u={},m=()=>{const{departamento:a}=(0,t.g)(),e=(0,t.Zp)(),[s,m]=(0,n.useState)([]),[p,h]=(0,n.useState)(!1),[x,g]=(0,n.useState)(null),[j,b]=(0,n.useState)(a||"Arequipa"),[v,f]=(0,n.useState)(1),[y,N]=(0,n.useState)(0),A=["Amazonas","\xc1ncash","Apur\xedmac","Arequipa","Ayacucho","Cajamarca","Callao","Cusco","Huancavelica","Hu\xe1nuco","Ica","Jun\xedn","La Libertad","Lambayeque","Lima","Loreto","Madre de Dios","Moquegua","Pasco","Piura","Puno","San Mart\xedn","Tacna","Tumbes","Ucayali"],k=(0,n.useCallback)((async a=>{if(u[a]){const e=u[a];return m(e),N(e.length),void f(1)}h(!0),g(null);try{const e=await l.A.get("https://buscadorempleos.onrender.com/selecionardepartamento/".concat(a));u[a]=e.data,m(e.data),N(e.data.length),f(1)}catch(x){console.error("Error fetching data:",x),g(x)}finally{h(!1)}}),[]);(0,n.useEffect)((()=>{a?k(a):e("/departamentos/Arequipa")}),[a,k,e]);const C=a=>{b(a),e("/departamentos/".concat(a)),k(a)},S=(0,n.useCallback)((a=>{f(a)}),[]),L=(0,n.useMemo)((()=>Math.ceil(y/14)),[y]),P=14*v,M=P-14,q=(0,n.useMemo)((()=>s.slice(M,P)),[s,M,P]),w=A.map((a=>({value:a,label:a})));return(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"btn_departamentos",children:[(0,r.jsx)("div",{className:"desktop-buttons",children:A.map(((a,e)=>(0,r.jsx)("button",{onClick:()=>C(a),className:"carrera-button ".concat(j===a?"active":""),children:a},e)))}),(0,r.jsx)("div",{className:"selectores mobile-dropdown",children:(0,r.jsx)(c.Ay,{options:w,value:w.find((a=>a.value===j)),onChange:a=>{a&&C(a.value)},className:"select-lugar",classNamePrefix:"select-lugar"})})]}),(0,r.jsxs)("h1",{style:{textAlign:"center",width:"70%",margin:"10px 15%"},children:["Ofertas Laborales en ",(0,r.jsx)("span",{style:{color:"#2ab004",textTransform:"capitalize"},children:j})]}),(0,r.jsxs)("div",{style:{textAlign:"center"},children:[y.toLocaleString("es-PE")," Empleos Vigentes"]}),(0,r.jsx)("div",{className:"contenidoprincipal",children:(0,r.jsx)("div",{className:"contenedordecajas",children:p?(0,r.jsx)("div",{className:"loading",children:(0,r.jsx)("div",{className:"spinner",style:{marginBottom:"900px",marginTop:"100px"}})}):(0,r.jsxs)(r.Fragment,{children:[x&&(0,r.jsxs)("p",{children:["Error al cargar las ofertas: ",x.message]}),q.length>0?q.map(((a,e)=>(0,r.jsx)(i,{oferta_laboral:a},a.id||e))):(0,r.jsx)("p",{children:"No hay ofertas disponibles para este departamento."})]})})}),(0,r.jsx)(n.Suspense,{fallback:(0,r.jsx)("div",{children:"Loading pagination..."}),children:(0,r.jsx)(o,{paginaActual:v,totalPaginas:L,onCambiarPagina:S})}),(0,r.jsx)(n.Suspense,{fallback:(0,r.jsx)("div",{className:"loading",children:(0,r.jsx)("div",{className:"spinner"})}),children:(0,r.jsx)(d,{})})]})}}}]);
//# sourceMappingURL=559.d07960c4.chunk.js.map